(function(k,m){var l=function(){var e=function(a){this.context=a},d="A A# B C C# D D# E F F# G G#".split(" ");d.push.apply(d,d);var g="unison;flat 2nd;2nd;minor 3rd;major 3rd;perfect 4th;flat 5th;perfect 5th;minor 6th;major 6th;minor 7th;major 7th;octave;flat 9th;9th;sharp 9th;major 10th;11th;augmented 11th;perfect 12th;flat 13th;13th".split(";"),h=function(a){for(var b=d.length,c=0;c<b;c++)if(a.toUpperCase()===d[c])return positionOnScale=c;return null};e.prototype.parseChord=function(a){var b={},
c=[],e=0;if(Array.isArray(a))return!1;a=a.toLowerCase();b.rootNote=a[0].toUpperCase();b.isMajor=-1<a.indexOf("maj");b.isMinor=!b.isMajor&&-1<a.indexOf("m");b.is7th=-1<a.indexOf("7");b.notes=[];b.is7th||(b.octave=a.match(/\d/g));if(!b.isMajor&&!b.isMinor)return!1;e=h(b.rootNote);c.push(e);a.isMinor?c.push(e+f("minor 3rd")):c.push(e+f("major 3rd"));c.push(e+f("perfect 5th"));c.push(e+f("octave"));c.forEach(function(a){b.notes.push(d[a])});return b};e.prototype.getScale=function(a){var b=[];a=h(a);b.push(d[a]);
b.push(d[a+2]);b.push(d[a+4]);b.push(d[a+5]);b.push(d[a+7]);b.push(d[a+9]);b.push(d[a+11]);b.push(d[a+12]);return b};var f=function(a){for(var b=g.length,c=0;c<b;c++)if(a===g[c])return c};e.prototype.isChord=function(a){return this.parseChord(a)};e.prototype.chordToNotes=function(a){a=this.parseChord(a);return a.notes};e.prototype.noteToFrequency=function(a){var b;b=3===a.length?a.charAt(2):a.charAt(1);a=d.indexOf(a.slice(0,-1));return Math.round(440*Math.pow(2,((3>a?a+12+12*(b-1)+1:a+12*(b-1)+1)-
49)/12))};return function(a){return new e(a)}}();k.tsw.music=new l})(window);
